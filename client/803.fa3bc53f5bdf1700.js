"use strict";(self.webpackChunkAgentaEventos_app=self.webpackChunkAgentaEventos_app||[]).push([[803],{4803:(se,m,i)=>{i.r(m),i.d(m,{AuthModule:()=>re});var p=i(6895),a=i(5588),x=i(1818),e=i(4650),b=i(9167),F=i(2340),B=i(529);let y=(()=>{class n{constructor(t){this._http=t,this.url=F.N.api+"/user/"}login(t){return this._http.post(`${this.url}login`,JSON.stringify(t))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=i(9653),h=i(3882),g=i(8807),_=i(6180),u=i(4006),v=i(266);const k=function(){return["/"]},w=function(){return{email:""}},d="d-block mx-auto fw-bold bef bef-text-danger bef-my-1rem",Z=function(){return{text:"El correo electr\xf3nico es necesario para iniciar sesi\xf3n.",evalThing:"required",spanClass:d}},M=function(){return{text:"El correo electr\xf3nico debe ser v\xe1lido.",evalThing:"email",spanClass:d}},C=function(n,r){return[n,r]},G=function(){return{password:""}},L=function(){return{text:"La contrase\xf1a es necesaria para iniciar sesi\xf3n.",evalThing:"required",spanClass:d}},J=function(){return{text:"La contrase\xf1a debe contener al menos una letra, una may\xfascula, un n\xfamero y un car\xe1cter especial. Adem\xe1s de tener una longitud de al menos 8 caracteres.",evalThing:"password",spanClass:d}},H=function(){return["/auth/recover"]};let D=(()=>{class n{constructor(t,o,s,c,ie){this.location=t,this._router=o,this._sharedService=s,this._authService=c,this.store=ie,this.email="",this.password="",this.lockeds={email:!0,password:!0}}onSubmit(){this._authService.login({email:this.email,password:this.password,gettoken:!0}).subscribe({next:t=>{t.user&&t.token?(this.store.dispatch((0,x.VC)({sesion:{active:!0,identity:t.user,token:t.token}})),this._router.navigate(["/home"])):this._sharedService.consoleParser({thing:"Hubo un error al iniciar sesi\xf3n: No se pudo traer al usuario o las llaves de autenticaci\xf3n.",type:"error"})},error:t=>{this._sharedService.consoleParser({thing:t,type:"error"})}})}changesInput(t){switch(Object.keys(this.lockeds).forEach(o=>{this.lockeds[o]=t[o]?t.locked:this.lockeds[o]}),!0){case!!t.email:this.email=t.email;break;case!!t.password:this.password=t.password}this.checkIfFormValid()&&this.cssCreate()}checkIfFormValid(){return Object.values(this.lockeds).every(t=>!1===t)}getHTML(t){return this._sharedService.getHTML(t)}returnToPreviousPage(){this.location.back()}cssCreate(){this._sharedService.cssCreate()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Ye),e.Y36(a.F0),e.Y36(b.F),e.Y36(y),e.Y36(A.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:19,vars:51,consts:[[1,"d-flex","mx-auto","flex-wrap","justify-content-between","align-items-center","bef","bef-w-calcSD100per__MIN__2remED"],[3,"type","classButton","customHtml","disabledClassButton","tooltip","tooltipPosition","showTooltip","tooltipClass","clicked"],["href","/","rel","noopener noreferrer",3,"routerLink","matTooltip"],[3,"logoHeight","logoWidth"],[1,"bef","bef-w-2_5rem","bef-h-2_5rem"],[1,"fw-bold","h1","text-start","bef","bef-textAlign-md-center","bef-m-2rem","bef-fs-2rem"],[1,"text-start","bef","bef-textAlign-md-center","bef-mx-2rem"],[1,"d-block","mx-auto","bef","bef-my-2rem","bef-w-clampSD250pxCOM90perCOM450pxED"],[1,"bef","bef-my-1_5rem"],[3,"labelTitle","placeholder","thingFather","thing","type","spans","required","changesInput"],["href","/auth/recover","rel","noopener noreferrer",1,"d-block","mx-auto","bef","bef-my-2rem","text-center",3,"routerLink"],[1,"d-flex","justify-content-end","justify-content-md-center"],[3,"type","classButton","customHtml","disabled","disabledClassButton","tooltip","tooltipPosition","showTooltip","tooltipClass","matButtonType","clicked"]],template:function(t,o){1&t&&(e.TgZ(0,"header",0)(1,"generic-button",1),e.NdJ("clicked",function(){return o.returnToPreviousPage()}),e.qZA(),e.TgZ(2,"a",2),e._UZ(3,"logo-show",3),e.qZA(),e._UZ(4,"div",4),e.qZA(),e.TgZ(5,"h1",5),e._uU(6," Inicia Sesi\xf3n\n"),e.qZA(),e.TgZ(7,"p",6),e._uU(8," Inicia sesi\xf3n para continuar con tu experiencia en el evento.\n"),e.qZA(),e.TgZ(9,"form",7)(10,"div",8)(11,"generic-input",9),e.NdJ("changesInput",function(c){return o.changesInput(c)}),e.qZA()(),e.TgZ(12,"div",8)(13,"generic-input",9),e.NdJ("changesInput",function(c){return o.changesInput(c)}),e.qZA()()(),e.TgZ(14,"a",10),e._uU(15," \xbfOlvidaste tu contrase\xf1a?\n"),e.qZA(),e.TgZ(16,"div",11)(17,"generic-button",12),e.NdJ("clicked",function(){return o.onSubmit()}),e._uU(18," Continuar "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("type","return")("classButton","d-block mat-elevation-z3 bef bef-btnOutline-btnBG bef-bc-btnBG bef-bW-btnBG bef-bS-solid bef-text-mainText bef-textHover-mainBG bef-cursor-pointer bef-r-100per bef-fs-2rem bef-h-2_5rem bef-w-2_5rem p-0")("customHtml",o.getHTML("back"))("disabledClassButton","d-block bef bef-btnOutline-btnBG__OPA__0_66 bef-bc-btnBG bef-bW-btnBG bef-bS-solid bef-text-mainText bef-textHover-mainBG bef-cursor-pointer bef-r-100per bef-fs-2rem bef-h-2_5rem bef-w-2_5rem p-0")("tooltip","Regresar")("tooltipPosition","left")("showTooltip",!0)("tooltipClass","bef bef-r-1rem bef-text-mainBG bef-bg-btnBG bef-p-1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(37,k))("matTooltip","Inicio"),e.xp6(1),e.Q6J("logoHeight","3rem")("logoWidth","3rem"),e.xp6(8),e.Q6J("labelTitle","Correo electr\xf3nico")("placeholder","Correo electr\xf3nico")("thingFather",e.DdM(38,w))("thing","email")("type","text")("spans",e.WLB(41,C,e.DdM(39,Z),e.DdM(40,M)))("required",!0),e.xp6(2),e.Q6J("labelTitle","Contrase\xf1a")("placeholder","Contrase\xf1a")("thingFather",e.DdM(44,G))("thing","password")("type","password")("spans",e.WLB(47,C,e.DdM(45,L),e.DdM(46,J)))("required",!0),e.xp6(1),e.Q6J("routerLink",e.DdM(50,H)),e.xp6(3),e.Q6J("type","Continuar")("classButton","d-block bef bef-btn-btnBG bef-text-mainBG bef-m-2rem")("customHtml","Continuar")("disabled",!o.checkIfFormValid())("disabledClassButton","d-block bef bef-btn-btnBG__OPA__0_66 bef-text-mainBG bef-m-2rem")("tooltip","Iniciar Sesi\xf3n")("tooltipPosition","above")("showTooltip",!0)("tooltipClass","bef bef-r-1rem bef-text-mainBG bef-bg-btnBG bef-p-1rem")("matButtonType","raised"))},dependencies:[a.rH,h.V,g.x,_.k,u._Y,u.JL,u.F,v.gM]}),n})();const E=function(){return{email:""}},l="d-block mx-auto fw-bold bef bef-text-danger bef-my-1rem",O=function(){return{text:"El correo electr\xf3nico es necesario para iniciar sesi\xf3n.",evalThing:"required",spanClass:l}},R=function(){return{text:"El correo electr\xf3nico debe ser v\xe1lido.",evalThing:"email",spanClass:l}},f=function(n,r){return[n,r]};function q(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"generic-input",12),e.NdJ("changesInput",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.changesInput(s))}),e.qZA()}2&n&&e.Q6J("labelTitle","Correo electr\xf3nico")("placeholder","Correo electr\xf3nico")("thingFather",e.DdM(7,E))("thing","email")("type","text")("spans",e.WLB(10,f,e.DdM(8,O),e.DdM(9,R)))("required",!0)}const N=function(){return{password:""}},Q=function(){return{text:"La contrase\xf1a es necesaria para iniciar sesi\xf3n.",evalThing:"required",spanClass:l}},j=function(){return{text:"La contrase\xf1a debe contener una letra, una may\xfascula, un n\xfamero y un car\xe1cter especial. Adem\xe1s de tener una longitud de al menos 8 caracteres.",evalThing:"password",spanClass:l}};function W(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"generic-input",12),e.NdJ("changesInput",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.changesInput(s))}),e.qZA()}2&n&&e.Q6J("labelTitle","Contrase\xf1a")("placeholder","Contrase\xf1a")("thingFather",e.DdM(7,N))("thing","password")("type","password")("spans",e.WLB(10,f,e.DdM(8,Q),e.DdM(9,j)))("required",!0)}const U=function(){return{passwordRe:""}},z=function(){return{text:"La confirmaci\xf3n de la contrase\xf1a es necesaria para iniciar sesi\xf3n.",evalThing:"required",spanClass:l}},X=function(){return{text:"La confirmaci\xf3n de la contrase\xf1a debe contener una letra, una may\xfascula, un n\xfamero y un car\xe1cter especial. Adem\xe1s de tener una longitud de al menos 8 caracteres.",evalThing:"password",spanClass:l}};function $(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"generic-input",12),e.NdJ("changesInput",function(s){e.CHM(t);const c=e.oxw();return e.KtG(c.changesInput(s))}),e.qZA()}2&n&&e.Q6J("labelTitle","Confirmaci\xf3n de la Contrase\xf1a")("placeholder","Confirmaci\xf3n de la Contrase\xf1a")("thingFather",e.DdM(7,U))("thing","passwordRe")("type","password")("spans",e.WLB(10,f,e.DdM(8,z),e.DdM(9,X)))("required",!0)}const ee=function(){return["/"]};let T=(()=>{class n{constructor(t,o,s,c){this.location=t,this._router=o,this._route=s,this._sharedService=c,this.email="",this.password="",this.passwordRe="",this.lockeds={email:!0},this.recoverCode="",this.userId=""}ngOnInit(){this._route.params.subscribe(t=>{this.userId=t.userId?t.userId:"",this.recoverCode=t.recoverCode?t.recoverCode:"",this.lockeds=""!==this.userId&&""!==this.recoverCode?{password:!0,passwordRe:!0}:{email:!0}}),this.cssCreate()}onSubmit(){this._sharedService.consoleLog("onSubmit")}changesInput(t){Object.keys(this.lockeds).forEach(o=>{this.lockeds[o]=t[o]?t.locked:this.lockeds[o]}),this.checkIfFormValid()&&this.cssCreate()}checkIfFormValid(){return Object.values(this.lockeds).every(t=>!1===t)}getHTML(t){return this._sharedService.getHTML(t)}returnToPreviousPage(){this.location.back()}cssCreate(){this._sharedService.cssCreate()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.Ye),e.Y36(a.F0),e.Y36(a.gz),e.Y36(b.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recover"]],decls:19,vars:27,consts:[[1,"d-flex","mx-auto","flex-wrap","justify-content-between","align-items-center","bef","bef-w-calcSD100per__MIN__2remED"],[3,"type","classButton","customHtml","disabledClassButton","tooltip","tooltipPosition","showTooltip","tooltipClass","clicked"],["href","/","rel","noopener noreferrer",3,"routerLink","matTooltip"],[3,"logoHeight","logoWidth"],[1,"bef","bef-w-2_5rem","bef-h-2_5rem"],[1,"fw-bold","h1","text-start","bef","bef-textAlign-md-center","bef-m-2rem","bef-fs-2rem"],[1,"text-start","bef","bef-textAlign-md-center","bef-mx-2rem"],[1,"d-block","mx-auto","bef","bef-my-2rem","bef-w-clampSD250pxCOM90perCOM450pxED"],[1,"bef","bef-my-1_5rem"],[3,"labelTitle","placeholder","thingFather","thing","type","spans","required","changesInput",4,"ngIf"],[1,"d-flex","justify-content-end","justify-content-md-center"],[3,"type","classButton","customHtml","disabled","disabledClassButton","tooltip","tooltipPosition","showTooltip","tooltipClass","matButtonType","clicked"],[3,"labelTitle","placeholder","thingFather","thing","type","spans","required","changesInput"]],template:function(t,o){1&t&&(e.TgZ(0,"header",0)(1,"generic-button",1),e.NdJ("clicked",function(){return o.returnToPreviousPage()}),e.qZA(),e.TgZ(2,"a",2),e._UZ(3,"logo-show",3),e.qZA(),e._UZ(4,"div",4),e.qZA(),e.TgZ(5,"h1",5),e._uU(6," Olvidaste tu contrase\xf1a\n"),e.qZA(),e.TgZ(7,"p",6),e._uU(8),e.qZA(),e.TgZ(9,"form",7)(10,"div",8),e.YNc(11,q,1,13,"generic-input",9),e.qZA(),e.TgZ(12,"div",8),e.YNc(13,W,1,13,"generic-input",9),e.qZA(),e.TgZ(14,"div",8),e.YNc(15,$,1,13,"generic-input",9),e.qZA()(),e.TgZ(16,"div",10)(17,"generic-button",11),e.NdJ("clicked",function(){return o.onSubmit()}),e._uU(18," Continuar "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("type","return")("classButton","d-block mat-elevation-z3 bef bef-btnOutline-btnBG bef-bc-btnBG bef-bW-btnBG bef-bS-solid bef-text-mainText bef-textHover-mainBG bef-cursor-pointer bef-r-100per bef-fs-2rem bef-h-2_5rem bef-w-2_5rem p-0")("customHtml",o.getHTML("back"))("disabledClassButton","d-block bef bef-btnOutline-btnBG__OPA__0_66 bef-bc-btnBG bef-bW-btnBG bef-bS-solid bef-text-mainText bef-textHover-mainBG bef-cursor-pointer bef-r-100per bef-fs-2rem bef-h-2_5rem bef-w-2_5rem p-0")("tooltip","Regresar")("tooltipPosition","left")("showTooltip",!0)("tooltipClass","bef bef-r-1rem bef-text-mainBG bef-bg-btnBG bef-p-1rem"),e.xp6(1),e.Q6J("routerLink",e.DdM(26,ee))("matTooltip","Inicio"),e.xp6(1),e.Q6J("logoHeight","3rem")("logoWidth","3rem"),e.xp6(5),e.hij(" ",""===o.userId&&""===o.recoverCode?"Escribe tu correo electr\xf3nico y se te enviar\xe1 un enlace para crear una nueva contrase\xf1a.":"Escribe tu nueva contrase\xf1a.","\n"),e.xp6(3),e.Q6J("ngIf",""===o.userId&&""===o.recoverCode),e.xp6(2),e.Q6J("ngIf",""!==o.userId&&""!==o.recoverCode),e.xp6(2),e.Q6J("ngIf",""!==o.userId&&""!==o.recoverCode),e.xp6(2),e.Q6J("type","Continuar")("classButton","d-block bef bef-btn-btnBG bef-text-mainBG bef-m-2rem")("customHtml","Continuar")("disabled",!o.checkIfFormValid())("disabledClassButton","d-block bef bef-btn-btnBG__OPA__0_66 bef-text-mainBG bef-m-2rem")("tooltip","Iniciar Sesi\xf3n")("tooltipPosition","above")("showTooltip",!0)("tooltipClass","bef bef-r-1rem bef-text-mainBG bef-bg-btnBG bef-p-1rem")("matButtonType","raised"))},dependencies:[p.O5,a.rH,h.V,g.x,_.k,u._Y,u.JL,u.F,v.gM]}),n})();const te=[{path:"login",component:D},{path:"recover",component:T},{path:"recover/:userId/:recoverCode",component:T}];let ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.Bz.forChild(te),a.Bz]}),n})();var oe=i(3588);let re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,ne,oe.m]}),n})()}}]);